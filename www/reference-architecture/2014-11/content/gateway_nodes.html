<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:exsl="http://exslt.org/common" xmlns:ng="http://docbook.org/docbook-ng" xmlns:fb="http://ogp.me/ns/fb#"><head>
<link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet"/>
<title>Chapter 4. MidoNet gateway nodes - MidoNet Reference Architecture
   - 2014.11</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"/><meta name="mavenGroupId" content="org.midonet"/><meta name="mavenArtifactId" content="midonet-docs-reference-architecture"/><meta name="mavenVersionId" content="2014.11"/><link rel="home" href="index.html" title="MidoNet Reference Architecture"/><link rel="up" href="index.html" title="MidoNet Reference Architecture"/><link rel="prev" href="cassandra.html" title="Cassandra"/><link rel="next" href="midolman.html" title="Chapter 5. Midolman"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="git-sha" content="fd4a6b7a9753ce1c0f036f85c12ae52f52cc7d61"/><meta name="buildTime" content="2014-12-19T13:39:39+09:00"/><script type="text/javascript">
            //The id for tree cookie
            var treeCookieId = "treeview-book_reference_architecture";
            var language = "en";
            var w = new Object();
            //Localization
            txt_filesfound = 'Results';
            txt_enter_at_least_1_char = "You must enter at least one character.";
            txt_browser_not_supported = "Please enable JavaScript.";
            txt_please_wait = "Please wait. Search in progress...";
            txt_results_for = "Results for: ";
        </script><style type="text/css">
            input {
            margin-bottom: 5px;
            margin-top: 2px;
            }

            .folder {
            display: block;
            height: 22px;
            padding-left: 20px;
            background: transparent url(../common/jquery/treeview/images/folder.gif) 0 0px no-repeat;
            }
            
        </style><link rel="shortcut icon" href="../favicon.ico" type="image/x-icon"/><link rel="stylesheet" type="text/css" href="../common/css/positioning.css"/><link rel="stylesheet" type="text/css" href="../common/css/custom.css"/><!--[if IE]>
	<link rel="stylesheet" type="text/css" href="../common/css/ie.css"/>
	<![endif]--><link rel="stylesheet" type="text/css" href="../common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/><link rel="stylesheet" type="text/css" href="../common/jquery/treeview/jquery.treeview.css"/><script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery-ui-1.8.2.custom.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery.cookie.js"><!----></script><script type="text/javascript" src="../common/jquery/treeview/jquery.treeview.min.js"><!----></script><link rel="stylesheet" type="text/css" href="http://cdn.jsdelivr.net/qtip2/2.2.0/jquery.qtip.min.css"/><script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.0/jquery.qtip.min.js"><!--jQuery plugin for glossary popups. --></script><script type="text/javascript" src="search/htmlFileList.js"><!----></script><script type="text/javascript" src="search/htmlFileInfoList.js"><!----></script><script type="text/javascript" src="search/nwSearchFnt.js"><!----></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"><!--//make this scalable to other languages as well.--></script><script type="text/javascript" src="search/index-1.js"><!----></script><script type="text/javascript" src="search/index-2.js"><!----></script><script type="text/javascript" src="search/index-3.js"><!----></script><script type="text/javascript">
	    var _gaq = _gaq || [];
	    _gaq.push(['_setAccount', 'UA-56283377-4']);
	    
	    _gaq.push(['_setDomainName', '.midonet.org']);	        
	        </script><script type="text/javascript" src="../common/ga.js"><!----></script></head><body><div id="header"><a onclick="_gaq.push(['_trackEvent', 'Header', 'logo', 'click', 1]);" target="_blank" href="http://www.midonet.org"><img src="../common/images/midonet-logo.png" alt="MidoNet Documentation" width="157" height="47"/></a><h1>Chapter 4. MidoNet gateway nodes</h1><div id="navheader" align="right"><!----><table class="navLinks"><tr><td><a id="showHideButton" onclick="showHideToc(); _gaq.push(['_trackEvent', 'Header', 'show/hide', 'click', 1]);" class="pointLeft" title="Hide TOC tree">Sidebar
                            </a></td><td><a accesskey="p" class="navLinkPrevious" onclick="_gaq.push(['_trackEvent', 'Header', 'prevLink', 'click', 1]);" tabindex="5" href="cassandra.html">Prev</a> 
				  |
                                    <a accesskey="n" class="navLinkNext" onclick="_gaq.push(['_trackEvent', 'Header', 'nextLink', 'click', 1]);" tabindex="5" href="midolman.html">Next</a></td></tr></table></div></div><div id="toolbar" class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><div id="toolbar-left"><p class="breadcrumbs"><a href="http://docs.midonet.org/">MidoNet Manuals</a><a href="index.html">MidoNet Reference Architecture
   - 2014.11</a></p><a onclick="_gaq.push(['_trackEvent', 'Header', 'pdfDownload', 'click', 1]);" alt="Download a pdf of this document" class="pdficon" href="../MidoNet_Reference_Architecture_2014.11.pdf"><img src="../common/images/pdf.png"/></a><div id="gplusone"><a id="AskOOLink1" href="http://wiki.midonet.org/Mailing%20lists%20and%20IRC" target="_blank" title="Questions? Discuss on mailing lists or IRC."><i class="icon-question"><!----></i></a>  
        <a id="logABugLink1" href="https://midonet.atlassian.net/browse/MND/" target="_blank" title="Found an error? Report a bug."><i class="icon-bug"><!----></i></a></div></div></div><div id="content"><div class="chapter"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="Gateway Nodes"> </a>Chapter 4. MidoNet gateway nodes</h2></div></div></div><div class="toc"><p><strong>Contents</strong></p><dl><dt><span class="section"><a href="Gateway Nodes.html#_Gateway Node_requirements">Gateway node requirements</a></span></dt><dt><span class="section"><a href="Gateway Nodes.html#_Gateway Node_connectivity">Gateway node connectivity</a></span></dt></dl></div><p>In addition to the hardware required to run OpenStack and MidoNet, you need one
or more servers to run at the edge of the network and connect your OpenStack
deployment to the external network. These servers are referred to as "Gateway
Nodes".</p><p>Gateway Nodes will handle more traffic (to and from external networks) than
Compute nodes so you must make sure that you allocate more memory to the Gateway
Nodes hosts.</p><div class="section"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="_Gateway Node_requirements"> </a>Gateway node requirements</h2></div></div></div><p>MidoNet interfaces directly with upstream routers via physical connections.</p><p>GW nodes need at least two physical network interfaces, one on the internal
network, and the other connected to the upstream router. Depending on the use
case and environment, the GW nodes may be handling much incoming and outgoing
traffic. Therefore, we highly recommend NICs with multi-queue and MSI-X support,
such as ones based on the 1Gbps Intel™ 82576 Ethernet controller, or the 10Gbps
Intel 82599 Ethernet controller. Using such a NIC enables us to process receive
events on multiple queues, and to handle IRQ events on multiple cores.</p></div><div class="section"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="_Gateway Node_connectivity"> </a>Gateway node connectivity</h2></div></div></div><p>The MidoNet cloud deployment needs to be assigned a global IP range, which will
be used by clients to access the VMs from the Internet.</p><p>MidoNet can use static routing, but we generally prefer to use BGP dynamic
routing for fast fail over. All GW nodes advertise the same IP range via BGP so
the upstream network should balance incoming flows over them. Typically, users
assign a private Autonomous System (AS) to the MidoNet deployment, and set up
BGP sessions for each edge.</p></div></div><script type="text/javascript" src="../common/main.js"><!----></script><div class="logabug" style="text-align: center"><a id="AskOOLink2" href="http://wiki.midonet.org/Mailing%20lists%20and%20IRC" target="_blank"><i class="icon-question"><!----></i>Questions? Discuss on mailing lists or IRC.</a><br/><a id="logABugLink2" href="https://midonet.atlassian.net/browse/MND/" target="_blank"><i class="icon-bug"><!----></i>Found an error? Report a bug.</a></div><hr/><div id="disqus_thread"><script type="text/javascript">
	      if(window.location.protocol.substring(0,4) == 'http'){
	        var disqus_shortname = 'midonet';
	      
	        var disqus_identifier = 'book_reference_architecture2014.11Gateway Nodes';
	      
	      }
	    </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><script type="text/javascript" src="../common/comments.js"><!----></script></div><hr/><div class="legal"><a href="index.html">Legal notices</a></div></div><div><div id="leftnavigation" style="padding-top:3px; background-color:white;"><div id="tabs"><ul><li><a href="#treeDiv" tabindex="1"><span class="contentsTab">Contents</span></a></li><li><a href="#searchDiv" tabindex="1"><span class="searchTab">Search</span></a></li></ul><div id="treeDiv"><img src="../common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none" class="thisisthat"><ul id="tree" class="filetree"><li tabindex="2"><span class="file"><a href="_preface.html">Preface</a></span><ul><li tabindex="2"><span class="file"><a href="_preface.html#_conventions">Conventions</a></span><ul><li tabindex="2"><span class="file"><a href="_preface.html#_notices">Notices</a></span></li><li tabindex="2"><span class="file"><a href="_preface.html#_command_prompts">Command prompts</a></span></li></ul></li></ul></li><li tabindex="2"><span class="file"><a href="midoNet_overview.html">1. MidoNet overview</a></span><ul><li tabindex="2"><span class="file"><a href="midonet_key_features.html">MidoNet key features</a></span></li><li tabindex="2"><span class="file"><a href="recommended_hardware.html">Recommended Hardware</a></span></li><li tabindex="2"><span class="file"><a href="installation_requirements.html">Requirements for installation</a></span><ul><li tabindex="2"><span class="file"><a href="installation_requirements.html#_operating_system_requirements">Operating System Requirements</a></span></li><li tabindex="2"><span class="file"><a href="installation_requirements.html#_bgp_setup_requirements">BGP Setup Requirements</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="openstack_integration.html">OpenStack integration</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="midonet_network_architecture.html">2. MidoNet network architecture</a></span><ul><li tabindex="2"><span class="file"><a href="internal_network.html">Internal and underlay network</a></span></li><li tabindex="2"><span class="file"><a href="underlay_network.html">Underlay network</a></span><ul><li tabindex="2"><span class="file"><a href="underlay_network.html#_gre_and_vxlan_tunnels">GRE and VXLAN tunnels</a></span></li><li tabindex="2"><span class="file"><a href="underlay_network.html#_mtu_size_considerations_for_the_underlay_network">MTU size considerations for the underlay network</a></span></li><li tabindex="2"><span class="file"><a href="underlay_network.html#_mtu_size_considerations_for_the_overlay_network">MTU size considerations for the overlay network</a></span></li><li tabindex="2"><span class="file"><a href="underlay_network.html#_offloading_on_l3_gateway_uplink_nic">Offloading on L3 Gateway uplink NIC</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="bgp_setup_and_layer_3_topologies.html">BGP setup and Layer-3 topologies</a></span></li><li tabindex="2"><span class="file"><a href="virtual_routers.html">Virtual routers</a></span></li><li tabindex="2"><span class="file"><a href="provider_router.html">Provider router</a></span></li><li tabindex="2"><span class="file"><a href="compute_host_agents.html">Compute Host Agents</a></span></li><li tabindex="2"><span class="file"><a href="bridges.html">Bridges</a></span></li><li tabindex="2"><span class="file"><a href="metadata_server.html">Metadata server</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="solution_components.html">3. Solution components</a></span><ul><li tabindex="2"><span class="file"><a href="state_management.html">State Management</a></span><ul><li tabindex="2"><span class="file"><a href="zookeeper.html">ZooKeeper</a></span><ul><li tabindex="2"><span class="file"><a href="zookeeper.html#_necessary_software">Necessary software</a></span></li><li tabindex="2"><span class="file"><a href="zookeeper.html#_fault_tolerant_configuration_guidelines">Fault-tolerant configuration guidelines</a></span></li><li tabindex="2"><span class="file"><a href="zookeeper.html#_accessibility_considerations">Accessibility considerations</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="cassandra.html">Cassandra</a></span><ul><li tabindex="2"><span class="file"><a href="cassandra.html#_necessary_software_2">Necessary software</a></span></li><li tabindex="2"><span class="file"><a href="cassandra.html#_fault_tolerant_configuration_guidelines_2">Fault-tolerant configuration guidelines</a></span></li><li tabindex="2"><span class="file"><a href="cassandra.html#_accessibility_considerations_2">Accessibility considerations</a></span></li></ul></li></ul></li></ul></li><li tabindex="2" id="webhelp-currentid"><span class="file"><a href="Gateway Nodes.html">4. MidoNet gateway nodes</a></span><ul><li tabindex="2"><span class="file"><a href="Gateway Nodes.html#_Gateway Node_requirements">Gateway node requirements</a></span></li><li tabindex="2"><span class="file"><a href="Gateway Nodes.html#_Gateway Node_connectivity">Gateway node connectivity</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="midolman.html">5. Midolman</a></span><ul><li tabindex="2"><span class="file"><a href="midolman.html#_recommended_installation_nodes">Recommended installation nodes</a></span></li><li tabindex="2"><span class="file"><a href="midolman.html#_configuration_guidelines">Configuration guidelines</a></span></li><li tabindex="2"><span class="file"><a href="midolman.html#_network_accessibility_considerations">Network accessibility considerations</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="midonet_api.html">6. MidoNet API</a></span><ul><li tabindex="2"><span class="file"><a href="midonet_api.html#_recommended_installation_nodes_2">Recommended installation nodes</a></span></li><li tabindex="2"><span class="file"><a href="midonet_api.html#_fault_tolerant_configuration_guidelines_3">Fault-tolerant configuration guidelines</a></span></li><li tabindex="2"><span class="file"><a href="midonet_api.html#_accessibility_considerations_3">Accessibility considerations</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="midonet_cli.html">7. MidoNet Command Line Interface</a></span></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="Verifie(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><center><input id="textToSearch" name="textToSearch" type="text" class="searchText"/> &nbsp; <input onclick="Verifie(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></center></fieldset></form></div><div id="searchResults"><center/></div><p class="searchHighlight"><a href="#" onclick="toggleHighlight()">Search Highlighter (On/Off)</a></p></div></div></div></div></body></html>